version: 1
formatters:
  normal:
    format: '%(asctime)s %(levelname)s %(name)s: %(message)s'
  console:
    format: '%(levelname)7s %(name)s: %(message)s'
handlers:
  console:
    class: logging.StreamHandler
    formatter: console
    level: INFO
    stream: ext://sys.stdout
  normal:
    class: logging.handlers.TimedRotatingFileHandler
    formatter: normal
    level: DEBUG
    filename: '{{ nodepool_log_dir }}/{{ _logfile }}.log'
    when: 'midnight'
    interval: 1
    backupCount: 30
loggers:
  nodepool:
    handlers:
      - console
      - normal
    level: {{ nodepool_loglevel }}
    propagate: 0
root:
  handlers:
    - normal
  level: {{ nodepool_root_loglevel }}
